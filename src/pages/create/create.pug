u-layout-page.u-page-index(:meta="false")

  // main content wrapper.
  div.row.flex.justify-center(slot="main")

    // loading indicator element.
    div.col-12(v-if="loading")
      q-spinner-dots( :size="40", style="margin: 0 auto")

    // main form element.
    div.col-12(v-if="!loading")

      // head section.
      div.row.create-contribution-form
        // form title.
        div.col-12
          p.q-headline What is your contribution about?

        // category selection.
        div.col-12
          q-field
            q-tabs.u-tabs-categories(inverted, scrollable)
              q-tab(slot="title", v-for="category in categories", :key="category", scrollable)
                div.u-category-icons.row.justify-center.items-center(:class="'text-' + category")
                  q-icon(:class="'ut-' + category")
                div.q-body.text-black {{ category }}

        // normal fields.
        div.col-12
          div.row.gutter-sm
            div.col-9
              q-field(label="Contribution title", orientation="vertical")
                q-input(v-model="contribution.title",
                  :error="$v.contribution.title.$error")

              q-field(label="Contribution Details", orientation="vertical")
                q-input(id="details", v-model="contribution.body",
                  type="textarea", placeholder="Write everything about your contributionâ€¦",
                  :error="$v.contribution.body.$error")

            div.col-3
              div.row
                div.col-12
                  q-field(label="Project name", orientation="vertical")
                    q-input(v-model="contribution.project", placeholder="e.g DTube",
                      :error="$v.contribution.title.$error")
                div.col-12
                  q-field(label="Tags", orientation="vertical", helper="hit enter to select a tag.")
                    q-chips-input(id="tags", v-model="contribution.tags",
                      placeholder="e.g development, javascript",
                      :error="$v.contribution.tags.$error")

                div.col-12
                  q-btn.full-width(color="primary", label="Submit", @click="submit")
